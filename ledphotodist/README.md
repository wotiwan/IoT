# Led Photo Distributed Serial (Распределённые системы)

## Описание схемы
### Подключение светодиода
![circuit](https://github.com/user-attachments/assets/b46294b6-32e8-4cef-9ea1-4615f39f3da7)
1. **Принципиальная схема подключения светодиода**
   - Светодиод подключён к "+", на плате это пин `11`
   - Светодиод подключён к "-" через один резистор, котороый подключён в колодку "-" на плате, которая в свою очередь соединена с пином GND
   - Резистор номиналом 5 кОм
2. **Светодиод работает на плате arduino nano**
3. **Плата подключается в программе через переменную `port_led`**
### Подключение Фоторезисторов
![circuit (1)](https://github.com/user-attachments/assets/cf420420-04fc-46cc-86dc-8e812acfe6e9)


1. **Принципиальная схема подключения фоторезистора**
    - Фоторезистор подключён к аналоговому пину: `A0`
    - Фоторезистор подключён к "-" через собственный резистор, котороый подключён в колодку "-" на плате, которая в свою очередь соединена с пином `GND`
    - Резистор номиналом 5 кОм
2. **Фоторезистор работает на плате arduino uno**
3. **Плата подключается в программе через переменную `port_photo`**

###  Платы подключены отдельно друг от друга к пк, каждый через чвой usb кабель. Объединяет их python программа `ledphoto.py`, которая, в свою очередь, 
отправляет запрос на плату с фоторезистором, и в зависимости от результата отправляет на плату со светодиодом команду запустить или отключить
светодиод.

# Описание скрипта `ledphoto.py`

Программа осуществляет подключение к двум платам arduino одновременно через серийный порт. Отправляет запросы на них через функции 
`send_command()` и `recieve_bytes()`. В случае если яркость с фоторезистора превыешает 500, то на плату со светодиодом
отправляется команда `'u'` для включения светодиода, иначе отправляется команда `'d'`, для его выключения.

Основной цикл программы повторяется бесконечно. Функция управляет логикой работы светодиодов и обработки данных с аналогового датчика.

# Рекомендации к применению
1. **Заменить номер порта в переменных `port_photo` и `port_led` на актуальные для вашего подключения. Посмотреть их можно, например, в arduino ide**
2. **Прошить платы arduino и закрыть `serial port`, чтобы не занимать серийный порт, иначе скрипт не сможет подключиться к платам.**
3. **Запустить скрипт `ledphoto.py`**
